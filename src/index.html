<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./page/color.css">
    <link rel="stylesheet" href="./page/style.css">
    <script src="./page/misc.js"></script>
    <script src="./page/api.js"></script>
    <script src="./page/display.js"></script>

    <title>Star</title>
</head>

<body>
    <div id="navigationBar">
        <ul>
            <li>
                <a id="navInActive" onclick="goUpPath()"></a>
                <a id="navActive" class="activeColor" href="#"></a>
            </li>
            <hr>
            <li id="actionMenu">
                <a onclick="currentAction = 'c'; addToClipboard()">Copy</a>
                <a onclick="currentAction = 'x'; addToClipboard()">Cut</a>
                <a id="actPaste" style="display: none;" onclick="pasteAction()">Paste</a>
                <a>Edit</a>
                <a style="background-color: var(--attention);" onclick="deleteAction()">Delete</a>
            </li>
        </ul>
    </div>
    <div id="topBar">
        <input id="pathInput">
        <!--IDK why but we have to swap possition of 2 buttons-->
        <button onclick="closeApp()" id="topBarClose">X</button>
        <button onclick="sendData('getDirContent', currentDirectory.path)" id="topBarRefresh"></button>
    </div>
    <div id="mainScreen">
        <div id="fileList">
            Loading...
        </div>
    </div>
    <div id="bottomBar">
        <img id="clipboardStatus" src="./page/clipboardNone.png">
    </div>
</body>
<!--Integrated app-->
<div id="txtEditor">
    <script>
        let txtEditor = {
            fileExt: [
                '.txt'
            ],
            currentFile: '',
            open: (event, item, itemObj, isFolder) => {
                txtEditor.currentFile = item;
                sendData('getFileContent', item);
                document.getElementById('txtEditor').style.display = 'block';
                document.getElementById('topBar').style.left = '0';
                document.getElementById('topBar').style.width = '100%';
                document.getElementById('navigationBar').style.visibility = 'hidden';
            },
            close: () => {
                document.getElementById('txtEditor').style.display = 'none';
                document.getElementById('topBar').style.left = '';
                document.getElementById('topBar').style.width = '';
                document.getElementById('navigationBar').style.visibility = '';
            }
        }
    </script>
    <textarea id="txtEditor-value"></textarea>
    <button id="txtEditor-button" onclick="sendData('doSaveFile', [txtEditor.currentFile, document.getElementById('txtEditor-value').value])">Save file</button>
</div>
<div id="audioPlayer">
    <script>
    </script>
</div>
<html>